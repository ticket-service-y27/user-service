syntax = "proto3";
package grpc.users;

option csharp_namespace = "Users.UserService.Contracts";

service UserService {
  rpc LogInByNickname(LogInByNicknameRequest) returns (LogInByNicknameResponse);
  rpc CreateUser(CreateUserRequest) returns (CreateUserResponse);
  rpc AssignUserRole(AssignUserRoleRequest) returns (AssignUserRoleResponse);
  rpc BlockUserById(BlockUserByIdRequest) returns (BlockUserByIdResponse);
  rpc UnblockUserById(UnblockUserByIdRequest) returns (UnblockUserByIdResponse);
  rpc GetUserLoyaltyLevel(GetUserLoyaltyLevelRequest) returns (GetUserLoyaltyLevelResponse);
}

enum UserRoleGrpc {
  USER_ROLE_GRPC_UNSPECIFIED = 0;
  USER_ROLE_GRPC_USER = 1;
  USER_ROLE_GRPC_ADMIN = 2;
  USER_ROLE_GRPC_ORGANIZER = 3;
}

enum UserLoyaltyLevelGrpc {
  USER_LOYALTY_LEVEL_GRPC_UNSPECIFIED = 0;
  USER_LOYALTY_LEVEL_GRPC_BRONZE = 1;
  USER_LOYALTY_LEVEL_GRPC_SILVER = 2;
  USER_LOYALTY_LEVEL_GRPC_GOLD = 3;
  USER_LOYALTY_LEVEL_GRPC_PLATINUM = 4;
}

message LogInByNicknameRequest {
  string nickname = 1;
  string password = 2;
}
message LogInByNicknameResponse {
  string jwt_access_token = 1;
}


message CreateUserRequest {
  string nickname = 1;
  string email = 2;
  string password = 3;
}
message CreateUserResponse {
  int64 user_id = 1;
}


message AssignUserRoleRequest {
  int64 user_id = 1;
  UserRoleGrpc role = 2;
}
message AssignUserRoleResponse {
}


message BlockUserByIdRequest {
  int64 user_id = 1;
}
message BlockUserByIdResponse {
}


message UnblockUserByIdRequest {
  int64 user_id = 1;
}
message UnblockUserByIdResponse {
}


message GetUserLoyaltyLevelRequest {
  int64 user_id = 1;
}
message GetUserLoyaltyLevelResponse {
  UserLoyaltyLevelGrpc level = 1;
}